# 3. Validate composer.json and update lock file
  - name: 🔍 Validate Composer
    run: |
     composer validate --strict
     echo "✅ Composer validation passed"

    # 4. Cache Composer dependencies
    - name: 📦 Cache Composer dependencies
      uses: actions/cache@v3
      with:
        path: /tmp/composer-cache
        key: ${{ runner.os }}-${{ hashFiles('**/composer.lock') }}
        restore-keys: |
          ${{ runner.os }}-composer-

    # 5. Install production dependencies
    - name: 🚀 Install Production Dependencies
      run: |
        composer install \
          --no-dev \
          --no-interaction \
          --no-progress \
          --optimize-autoloader \
          --classmap-authoritative
        echo "✅ Composer install completed"
